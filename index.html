<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>0616ç™¼ä½ˆæœƒé‚€è«‹å‡½</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
    }
    .button {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #FF95CA;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
    input {
      width: 90%;
      padding: 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div id="content">
    <h3>æ­£åœ¨æª¢æŸ¥é–‹å•Ÿæ–¹å¼â‹¯</h3>
  </div>

  <script>
    const isInLINEApp = navigator.userAgent.toLowerCase().includes("line");

    if (!isInLINEApp) {
      // ä½¿ç”¨è€…ä¸æ˜¯å¾ LINE æ‰“é–‹ï¼Œç«‹å³é¡¯ç¤ºæç¤º
      document.getElementById("content").innerHTML = `
        <h3>âš ï¸ é‚€è«‹å‡½å°‡é€é Lineå®˜æ–¹ ç™¼é€ğŸ’Œ</h3>
        <a class="button" href="https://line.me/R/ti/p/@opl8696k">ğŸ“² åŠ å…¥ LINEå®˜æ–¹</a>
      `;
    } else {
      // LINE App ç’°å¢ƒï¼Œé–‹å§‹åˆå§‹åŒ– LIFF
      liff.init({ liffId: "2007537866-487VenaX" })
        .then(() => {
          document.getElementById("content").innerHTML = `<h3>æ­£åœ¨é€é LINEå®˜æ–¹ å‚³é€é‚€è«‹å‡½çµ¦ä½ â‹¯</h3>`;
          liff.sendMessages([
            {
              type: 'text',
              text: '0616ç™¼ä½ˆæœƒé‚€è«‹å‡½'
            }
          ]).then(() => {
            liff.closeWindow();
          }).catch((err) => {
            console.error('Send message error:', err);
            document.getElementById("content").innerHTML = "<h3>ç™¼é€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ ğŸ™</h3>";
          });
        })
        .catch((err) => {
          console.error('LIFF init error:', err);
          document.getElementById("content").innerHTML = "<h3>LIFF åˆå§‹åŒ–å¤±æ•—ï¼Œè«‹ç¢ºèªè¨­å®š</h3>";
        });
    }
  </script>
</body>
</html>
