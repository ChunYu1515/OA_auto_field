<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>0616ç™¼ä½ˆæœƒé‚€è«‹å‡½</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
    }
    .button {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #06c755;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h3 id="status">æ­£åœ¨æª¢æŸ¥å•Ÿå‹•ç’°å¢ƒâ‹¯</h3>

  <script>
    liff.init({ liffId: "2007537866-487VenaX" })
      .then(() => {
        // æª¢æŸ¥æ˜¯å¦åœ¨ LINE App ä¸­é–‹å•Ÿ
        if (!liff.isInClient()) {
          document.getElementById("status").innerHTML = `
            <h3>âš ï¸ è«‹å¾ LINE App è£¡é–‹å•Ÿæ­¤é€£çµæ‰èƒ½æ”¶åˆ°é‚€è«‹å‡½ ğŸ’Œ</h3>
            <p>ä½ å¯ä»¥è¤‡è£½ä»¥ä¸‹é€£çµï¼Œè²¼çµ¦ LINE å¥½å‹æˆ–å‚³çµ¦è‡ªå·±å†é»é–‹ğŸ‘‡</p>
            <input type="text" value="https://liff.line.me/2007537866-487VenaX" style="width:90%; padding:10px;" readonly onclick="this.select()">
            <br><br>
            <a class="button" href="https://line.me/R/ti/p/@ä½ çš„LINEå¸³è™ŸID">ğŸ“² åŠ å…¥æˆ‘å€‘çš„ LINE å®˜æ–¹å¸³è™Ÿ</a>
          `;
          return;
        }

        // è‹¥åœ¨ LINE App ä¸­ï¼Œç™¼é€è¨Šæ¯
        document.getElementById("status").innerText = "æ­£åœ¨é€éé‡‘é­šçš„LINEå®˜æ–¹å‚³é€é‚€è«‹å‡½çµ¦ä½ â‹¯";
        liff.sendMessages([
          {
            type: 'text',
            text: '0616ç™¼ä½ˆæœƒé‚€è«‹å‡½'
          }
        ]).then(() => {
          liff.closeWindow();
        }).catch((err) => {
          console.error('Send message error:', err);
          document.getElementById("status").innerHTML = "<h3>ç™¼é€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ ğŸ™</h3>";
        });
      })
      .catch((err) => {
        console.error('LIFF init error:', err);
        document.getElementById("status").innerHTML = "<h3>LIFF åˆå§‹åŒ–å¤±æ•—ï¼Œè«‹ç¢ºèª LIFF ID æ˜¯å¦æ­£ç¢º</h3>";
      });
  </script>
</body>
</html>
